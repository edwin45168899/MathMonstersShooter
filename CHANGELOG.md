# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased] - 2026-01-18

### Added
- 初始化 Vue 3 + Vite 專案架構。
- 新增及實作 `MathSystem.js` 負責 0-20 加減法題目生成。
- 新增及實作 `GameEngine.js` 處理遊戲主循環、狀態管理。
- 新增及實作 `EntityManager.js` 管理怪物、子彈、粒子實體。
- 新增 `GameCanvas`, `StartScreen`, `GameHUD`, `AnswerPanel` 等 Vue UI 組件。
- 新增 Neon Space (霓虹太空) 視覺風格與 CSS Design Tokens。
- 新增 Web Audio API 音效管理 (`SoundManager`)。
- 新增「時停機制」：當子彈飛行時，怪物暫停移動以確保命中體驗。
- 新增多語系支援 (i18n)：支援英文與繁體中文介面切換。
- 新增字型支援：導入「王漢宗注音字型」，介面中文自動附帶注音。
- 視覺優化：調整為中性高對比配色（深灰底、白/金字），提升長時間遊玩的舒適度與可讀性。
- 視覺優化：移除所有光暈 (Glow) 與陰影特效，確保中文字與注音符號線條清晰銳利。
- 介面調整：將分數顯示移至畫面正中央，提升易讀性。
- 介面調整：將生命值顯示移至分數正下方，並將暫停按鈕調整至生命值左側，優化整合中央資訊區。
- 多語系更新：補完暫停介面 (Pause Screen) 的中英文翻譯支援。
- 多語系更新：補完暫停介面 (Pause Screen) 的中英文翻譯支援。
- 新增功能：語音合成 (TTS) 支援，點擊介面按鈕（開始、暫停、等）及**答案數字選項**時，系統會自動讀出對應的文字或數字，輔助聽覺學習。
- 新增功能：音效/語音開關 (Mute)，位於分數顯示右側，可一鍵靜音所有遊戲音效與語音。
- 平衡調整：增加怪物生成的垂直間距，調整為**每消滅1隻怪物間距縮短1%**，讓難度曲線更平滑。
- 平衡調整：增加怪物生成的垂直間距，調整為**每消滅1隻怪物間距縮短1%**，讓難度曲線更平滑。
- 美術重製：全面改用「國小女生喜愛的可愛風格」——馬卡龍/粉彩配色、圓潤可愛的怪物（長耳朵）與飛船造型。
- 視覺優化：在怪物題目文字下方新增「淡色半透明底卡」，大幅提升閱讀清晰度。
- 新增功能：遊戲暫停 (Pause) 功能，隨時可暫停休息。
- 行動體驗：優化手機網頁支援 (Viewport)，確保觸控點擊靈敏且無誤觸縮放。

### Changed
- 優化 UI 佈局：將玩家飛船位置上調，避免遮擋底部答案選項。
- 調整遊戲機制：怪物觸底時改為扣除生命值而非立即結束遊戲。
- 調整平衡性：大幅降低怪物基礎下降速度與隨關卡增長的幅度，提升低年級玩家友善度。
- 調整平衡性：限制同場怪物數量至少 3 隻、至多 5 隻，避免畫面過於空曠或擁擠。
- 修正 `EntityManager` 迴圈邏輯，修復多隻怪物同時觸底可能導致的計數錯誤。
- 調整平衡性：怪物下降速度機制變更，改為「每消滅1隻怪物，速度增加 10% (1/10)」，取代原有的關卡制速度增長。
- 行動裝置適配：新增動態縮放機制，遊戲實體（飛船、怪物、子彈、文字）會根據螢幕寬度自動調整大小 (Scale Factor)，確保在手機螢幕上的比例適中。
- 行動裝置適配：優化答案選項按鈕 (`AnswerPanel`) 為彈性佈局 (Flex)，防止小螢幕換行，並縮小最小寬度限制。
- 行動裝置適配：加大暫停按鈕尺寸至 45px，提升觸控點擊友善度。
- 介面調整：上移答案按鈕面板 (`AnswerPanel`) 至底部 12vh，避開手機底部安全區域 (Safe Area)。
- 介面調整：配合 UI 上移，大幅調整玩家飛船的初始 Y 軸位置 (Scale 280)，確保飛船位於答案選項按鈕上方，完全避免重疊。
- 介面調整：將音效切換按鈕 (Mute) 移至分數顯示的 **左側**，優化視覺動線。
- 介面調整：大幅縮減「開始畫面」、「遊戲結束」與「暫停選單」的尺寸（Padding 減半、字體縮小），解決手機畫面上介面過大佔滿畫面的問題。
- 平衡調整：再次上調玩家飛船位置 (Scale 350)，確保在所有尺寸手機上皆不會被按鈕遮擋，提升操作視野。
- 新增功能：勝利機制實裝！當分數達到 **500分** 時自動通關，顯示「恭喜過關」(Mission Complete) 畫面與綠色霓虹特效。
- 介面調整：將「開始任務」的對話盒尺寸放大 0.5 倍（包含字體、按鈕與間距），提升其視覺份量與點擊容易度。
- 介面調整：修正「開始任務」對話盒尺寸，由放大 1.5 倍微調回 **1.25 倍**，避免在極小螢幕手機上可能發生的溢出，維持良好比例。
- 介面調整：再次微調「開始任務」對話盒尺寸為 **1.1 倍**，追求最佳的視覺平衡與手機適配性。
- 新增功能：語音正向回饋機制 (TTS)。當玩家擊中怪物時，系統會隨機播放「好棒、讚、真厲害、完美、一百分」等鼓勵語句，提升遊戲成就感與互動性（支援中英雙語）。
- 新增功能：語音錯誤提示機制 (TTS)。當答錯時，隨機播放「差一點、錯了、不對唷、唉、怎麼可能」等提示語。
- 新增功能：語音錯誤提示機制 (TTS)。當答錯時，隨機播放「差一點、錯了、不對唷、唉、怎麼可能」等提示語。
- 優化體驗：配合遊戲節奏，將 TTS 語音速度再次提升至 **1.5x**，確保語音回饋乾脆俐落，不拖泥帶水。
- 邏輯修正：確認並優化數學題目生成邏輯，確保「加法」與「減法」的出現機率為嚴格的 **50% vs 50%**，避免題目類型分佈不均。
- 介面調整：將怪物身上的「加減法題目文字」放大 **1.5 倍**，顯著提升閱讀清晰度，降低兒童辨識題目的難度。
- 遊戲性調整：新增「答錯緩衝機制」。當玩家答錯時，所有怪物下降速度將暫時減半（持續 1 秒），提供玩家修正與喘息的機會，降低挫折感。
- 邏輯修正：修復暫停/繼續遊戲時分數被錯誤重置的問題。現在僅在「重新遊戲」時才會重置分數與進度。
