# Math Monsters Shooter (æ•¸å­¸æ€ªç‰©å°„æ‰‹)

## ğŸ“– å°ˆæ¡ˆæ¦‚è¿° (Project Overview)
é€™æ˜¯ä¸€å€‹çµåˆæ•¸å­¸æ•™è‚²èˆ‡å°„æ“ŠéŠæˆ²çš„ç€è¦½å™¨æ‡‰ç”¨ç¨‹å¼ã€‚ç©å®¶é§•é§›é£›èˆ¹ï¼Œé€éè¨ˆç®—åŠ æ¸›æ³•é¡Œç›®ä¾†ç™¼å°„å­å½ˆï¼Œæ“Šé€€ä¸æ–·ä¾†è¥²çš„æ•¸å­—æ€ªç‰©ã€‚ç›®æ¨™æ˜¯æä¾›åœ‹å°ä½å¹´ç´šå­¸ç”Ÿä¸€å€‹å……æ»¿è¶£å‘³çš„è¨ˆç®—ç·´ç¿’ç’°å¢ƒã€‚

## ğŸ•¹ï¸ è©¦ç©ç¶²å€
https://math-monsters-shooter.liawchiisen.workers.dev/

![math-monsters-shooter](./images/math-monsters-shooter.png)

## ğŸ›  æŠ€è¡“æ¶æ§‹ (Technical Stack)
- **Core Framework**: Vue 3 + Vite
- **Rendering**: HTML5 Canvas (ç”¨æ–¼é«˜æ•ˆèƒ½ç²’å­èˆ‡éŠæˆ²æ¸²æŸ“)
- **Styling**: Vanilla CSS (Neon Space é¢¨æ ¼)
- **Audio**: Web Audio API (é›¶ä¾è³´éŸ³æ•ˆ)
- **State Management**: Vue Reactivity API

## ğŸ— æ¨¡çµ„æ¶æ§‹ (Architecture)

### æ ¸å¿ƒé‚è¼¯ (src/logic/)
- **GameEngine.js**: éŠæˆ²æ ¸å¿ƒé©…å‹•å™¨ã€‚è² è²¬è™•ç† Canvas çš„ç¹ªåœ–å¾ªç’° (RequestAnimationFrame)ã€ç®¡ç†éŠæˆ²éšæ®µè½‰æ›ã€æ€ªç‰©ç”Ÿæˆæ™‚é–“æ§åˆ¶ã€ä»¥åŠå…¨å±€æ¸›é€Ÿç‰¹æ•ˆç­‰æ ¸å¿ƒéŠæˆ²é‚è¼¯ã€‚
- **EntityManager.js**: å¯¦é«”ç®¡ç†å™¨ã€‚è² è²¬è¿½è¹¤ä¸¦æ›´æ–°ç•«é¢ä¸Šçš„æ‰€æœ‰å‹•æ…‹å¯¦é«”ï¼ˆåŒ…æ‹¬ç©å®¶ã€æ€ªç‰©ã€å­å½ˆèˆ‡ç²’å­ï¼‰ï¼Œä¸¦è™•ç†å¯¦é«”è¶…å‡ºé‚Šç•Œå¾Œçš„æ¸…ç†å·¥ä½œï¼Œæ˜¯ç¶­æŒé«˜æ•ˆèƒ½æ¸²æŸ“çš„é—œéµã€‚
- **MathSystem.js**: æ•¸å­¸é¡Œç›®ç”Ÿæˆç³»çµ±ã€‚å°ˆç‚ºåœ‹å°ä¸€å¹´ç´šç¨‹åº¦è¨­è¨ˆï¼Œèƒ½ç”¢ç”Ÿç¸½å’Œ 20 ä»¥å…§çš„åŠ æ³•æˆ–è¢«æ¸›æ•¸ 20 ä»¥å…§çš„æ¸›æ³•é¡Œç›®ï¼Œä¸¦æ™ºæ…§ç”Ÿæˆæ¥è¿‘æ­£ç¢ºç­”æ¡ˆçš„å¹²æ“¾é¸é …ã€‚
- **Collision.js**: ç¢°æ’åµæ¸¬ç³»çµ±ã€‚å°è£äº†åœ“å½¢ç¢°æ’ã€é»èˆ‡åœ“å½¢ç¢°æ’çš„æ•¸å­¸é‹ç®—ï¼Œç¢ºä¿å°„æ“Šèˆ‡ç›®æ¨™äº’å‹•çš„æº–ç¢ºæ€§ã€‚
- **SoundManager.js**: éŸ³æ•ˆèˆ‡éŸ³æ¨‚ç®¡ç†å™¨ã€‚åŸºæ–¼ Web Audio API å¯¦ç¾ç¨‹åºåŒ–éŸ³æ•ˆåˆæˆï¼Œç„¡éœ€åŠ è¼‰å¤–éƒ¨éŸ³æª”å³å¯ç”¢ç”Ÿè±å¯Œçš„å°„æ“Šã€çˆ†ç‚¸åŠå‹•æ…‹èƒŒæ™¯éŸ³æ¨‚ã€‚
- **TTSManager.js**: èªéŸ³åˆæˆç®¡ç†å™¨ã€‚æ•´åˆç€è¦½å™¨åŸç”Ÿ Speech Synthesis æŠ€è¡“ï¼Œç‚ºéŠæˆ²æä¾›å³æ™‚çš„èªéŸ³è®€æ•¸èˆ‡å¿ƒç†å»ºè¨­é¼“å‹µèªå¥ã€‚

### æ‡‰ç”¨ç¨‹å¼å…¥å£èˆ‡é…ç½® (src/)
- **App.vue**: æ‡‰ç”¨ç¨‹å¼ä¸»å®¹å™¨èˆ‡ä¸­å¤®ç‹€æ…‹æ©Ÿã€‚å”èª¿å…¨åŸŸéŠæˆ²ç‹€æ…‹ã€ç®¡ç†å¾—åˆ†èˆ‡ç”Ÿå‘½å€¼é‚è¼¯ã€è™•ç† TTS æ’­æ”¾æ’ç¨‹ï¼Œä¸¦ä½œç‚ºæ‰€æœ‰å­çµ„ä»¶çš„é€šè¨Šä¸­æ¨ã€‚
- **main.js**: æ‡‰ç”¨ç¨‹å¼å•Ÿå‹•å…¥å£ã€‚è² è²¬åˆå§‹åŒ– Vue æ‡‰ç”¨ç’°å¢ƒã€è¨»å†Š i18n å¤šåœ‹èªè¨€æ’ä»¶ã€‚
- **i18n.js**: åœ‹éš›åŒ–è¨­å®šæª”ã€‚å®šç¾©äº†ä¸­è‹±æ–‡é›™èªçš„ä»‹é¢æ–‡æœ¬ã€èªç³»åˆ‡æ›è¦å‰‡ï¼Œæ”¯æ´å‹•æ…‹èªç³»æ›´è¿­ã€‚

### UI çµ„ä»¶ (src/components/)
- **GameCanvas.vue**: éŠæˆ²æ¸²æŸ“çµ„ä»¶ã€‚å°‡ç´” JS å¯«å¯«çš„éŠæˆ²å¼•æ“åµŒå…¥ Vue ç”Ÿæ…‹ç³»ï¼Œè² è²¬ Canvas çš„ DOM ç”Ÿå‘½é€±æœŸã€è¦–çª—ç¸®æ”¾é©é…ï¼ˆResizeï¼‰ä»¥åŠå¼•æ“å•Ÿå‹•/æš«åœã€‚
- **GameHUD.vue**: æŠ¬é ­é¡¯ç¤ºè³‡è¨Šå±¤ã€‚è² è²¬åœ¨éŠæˆ²ç•«é¢é ‚éƒ¨ç©©å®šé¡¯ç¤ºå³æ™‚åˆ†æ•¸ã€ç”Ÿå‘½å¿ƒå½¢åœ–æ¨™ï¼Œä¸¦æ•´åˆäº†å…¨å±€éœéŸ³åˆ‡æ›èˆ‡æš«åœæŒ‰éˆ•ï¼Œå…·å‚™æ¥µé«˜çš„ Z-index å±¤ç´šã€‚
- **AnswerPanel.vue**: äº’å‹•ç­”æ¡ˆé¢æ¿ã€‚å‹•æ…‹ç”Ÿæˆæµ®å‹•åœ¨ç•«é¢åº•éƒ¨çš„æ•¸å­—æŒ‰éˆ•ï¼Œæ”¯æ´è§¸æ§èˆ‡èªéŸ³åé¥‹ï¼Œæ˜¯ç©å®¶é€²è¡Œç­”é¡Œçš„æ ¸å¿ƒæ“ä½œä»‹é¢ã€‚
- **StartScreen.vue**: è¦–è¦ºèˆ‡å¼•å°å…¥å£ã€‚å±•ç¤ºéŠæˆ²æ¨™é¡Œèˆ‡è¨­å®šä»‹é¢ï¼ˆå¦‚èªè¨€åˆ‡æ›ï¼‰ï¼Œä¸¦æä¾›æµæš¢çš„éŠæˆ²é–‹å§‹åˆ‡æ›å‹•ç•«ã€‚

## ğŸ¨ è¦–è¦ºé¢¨æ ¼ (Visual Aesthetics)
- **Theme**: Neon Space (éœ“è™¹å¤ªç©º)
- **Palette**: Deep Space Blue (#0B0F29) èƒŒæ™¯ï¼Œæ­é… Neon Cyan (#00F3FF) èˆ‡ Magenta (#FF00FF) å¼·èª¿è‰²ã€‚
- **Effects**: ç²’å­çˆ†ç‚¸ã€å…‰æšˆ (Glow)ã€æ¯›ç»ç’ƒ (Glassmorphism) UIã€‚

## âœ… å¯¦ä½œè¨ˆç•« (Implementation Plan)

### Phase 1: Initialization & Foundation
- [x] åˆå§‹åŒ– Vue 3 + Vite å°ˆæ¡ˆ
- [x] è¨­å®šåŸºç¤ CSS è®Šæ•¸ (Design Tokens) èˆ‡å…¨åŸŸæ¨£å¼
- [x] å»ºç«‹å°ˆæ¡ˆç›®éŒ„çµæ§‹ (logic, components, assets)

### Phase 2: Core Logic Implementation
- [x] å¯¦ä½œ `MathSystem.js` (é¡Œç›®ç”Ÿæˆé‚è¼¯)
- [x] å¯¦ä½œ `GameEngine.js` (åŸºç¤ Loop èˆ‡ Canvas setup)
- [x] å¯¦ä½œ `EntityManager.js` (æ€ªç‰©ç”Ÿæˆèˆ‡ç§»å‹•)

### Phase 3: UI & Interaction
- [x] å»ºç«‹ `GameCanvas.vue` æ•´åˆ Canvas
- [x] å»ºç«‹ `AnswerPanel.vue` (åº•éƒ¨äº’å‹•æŒ‰éˆ•)
- [x] ä¸²æ¥å°„æ“Šé‚è¼¯èˆ‡ç¢°æ’åµæ¸¬

### Phase 4: Polish & Effects
- [x] åŠ å…¥ç²’å­çˆ†ç‚¸èˆ‡ç™¼å…‰ç‰¹æ•ˆ
- [x] åŠ å…¥éŸ³æ•ˆè™•ç† (Web Audio API)
- [x] å„ªåŒ– UI å‹•ç•«èˆ‡è½‰å ´ (Start Screen, Game Over)


## ğŸ› ï¸ å­—å‹å„ªåŒ–èˆ‡ç¶­è­· (Font Optimization)

ç‚ºäº†æå‡ç¶²é è¼‰å…¥é€Ÿåº¦ï¼Œæˆ‘å€‘å°‡ 13MB çš„ `ZhuyinFont.ttf` é€éå­é›†åŒ–å£“ç¸®è‡³ 50KB å·¦å³çš„ `ZhuyinFont.woff2`ã€‚ç•¶æœ‰æ–°å¢ä¸­æ–‡ç¿»è­¯æ™‚ï¼Œè«‹å‹™å¿…é‡æ–°åŸ·è¡Œæ­¤æµç¨‹ã€‚

### å­é›†åŒ–å…§å®¹ä¾†æº (Charset Sources)
1.  **åŸºç¤è‹±æ•¸èˆ‡ç¬¦è™Ÿ (Basic ASCII & Math Symbols)**: `A-Z a-z 0-9 + - * / = ? : . % !`
2.  **æ³¨éŸ³ç¬¦è™Ÿ (Bopomofo)**: `U+3100-312F` å®Œæ•´å€æ®µ
3.  **UI ä¸­æ–‡æ–‡æœ¬ (From src/i18n.js)**: éŠæˆ²ä»‹é¢ç”¨å­—

#### å®Œæ•´å­—å…ƒæ¸…å–® (Copy This):
```text
ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-*/=?:.%! ã„…ã„†ã„‡ã„ˆã„‰ã„Šã„‹ã„Œã„ã„ã„ã„ã„‘ã„’ã„“ã„”ã„•ã„–ã„—ã„˜ã„™ã„§ã„¨ã„©ã„šã„›ã„œã„ã„ã„Ÿã„ ã„¡ã„¢ã„£ã„¤ã„¥ã„¦ËŠË‡Ë‹Ë™æ•¸å­¸æ€ªç‰©å°„æ“Šæ‰‹å¿ƒç®—æˆ°é¬¥æ©Ÿé–‹å§‹ä»»å‹™å¾—åˆ†ç”Ÿå‘½ç­‰å¾…ç›®æ¨™éŠæˆ²çµæŸæœ€çµ‚åˆ†æ•¸é‡æ–°è¼‰å…¥ä¸­æš«åœç¹¼çºŒé›¢é–‹æ­å–œä½ ç ´é—œå·®ä¸€é»éŒ¯äº†ä¸å°å”·å”‰æ€éº¼å¯èƒ½å¥½æ£’è®šçœŸå²å®³å®Œç¾ç™¾ä¸€
```

### æ›´æ–°æµç¨‹ (Update Workflow)
1.  **æº–å‚™**: è¤‡è£½ä¸Šæ–¹çš„ã€Œå®Œæ•´å­—å…ƒæ¸…å–®ã€ã€‚è‹¥æœ‰æ–°å¢ UI æ–‡å­—ï¼Œè«‹æ‰‹å‹•åŠ å…¥æ¸…å–®ä¸­ã€‚
2.  **å·¥å…·**: å‰å¾€ [Transfonter.org](https://transfonter.org/)
3.  **è¨­å®š**:
    *   **Add fonts**: ä¸Šå‚³ `public/fonts/ZhuyinFont.ttf`
    *   **Subsets**: **å…¨éƒ¨å–æ¶ˆå‹¾é¸ (None)** (é¿å…æ··å…¥ç„¡ç”¨å­—å…ƒ)
    *   **Characters**: è²¼ä¸Šå‰›æ‰çš„ã€Œå®Œæ•´å­—å…ƒæ¸…å–®ã€
    *   **Formats**: å‹¾é¸ `WOFF2`
4.  **è½‰æ›**: é»æ“Š `Convert` -> `Download`
5.  **æ›¿æ›**: å°‡ä¸‹è¼‰å¾Œçš„ `.woff2` æª”æ¡ˆé‡æ–°å‘½åç‚º `ZhuyinFont.woff2` ä¸¦è¦†è“‹å°ˆæ¡ˆä¸­çš„ `public/fonts/ZhuyinFont.woff2`ã€‚

---
*Created by Antigravity Assistant*
Math Monsters Shooter åœ‹å°ä¸€å¹´ç´šåŠ æ¸›æ³•éŠæˆ²ç·´ç¿’
